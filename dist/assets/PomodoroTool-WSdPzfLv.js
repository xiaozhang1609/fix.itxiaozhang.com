import{c as f,u as B,r as s,j as e,A as E,m}from"./index-BOqvlyTA.js";import{B as N}from"./react-toastify.esm-wawDSP8U.js";import{P as R,a as P}from"./play-DFToyavp.js";import{R as H}from"./rotate-ccw-DCyDCC8d.js";import{M as q,a as A}from"./minimize-2-BNUX4lGM.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=f("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=f("Focus",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=f("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),G={workTime:25*60,shortBreak:5*60,longBreak:15*60,longBreakInterval:4},U=({settings:t,onSave:a,onClose:n})=>{const{t:i}=B(),x=[{key:"workTime",label:"workTime"},{key:"shortBreak",label:"shortBreak"},{key:"longBreak",label:"longBreak"},{key:"longBreakInterval",label:"longBreakInterval"}];return e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute inset-x-4 top-4 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 z-50",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:i("settings")}),e.jsx("div",{className:"space-y-4",children:x.map(({key:l,label:d})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:i(d)}),e.jsx("input",{type:"number",value:l.includes("Time")?t[l]/60:t[l],onChange:r=>{const h=Math.max(1,parseInt(r.target.value));a({...t,[l]:l.includes("Time")?h*60:h})},className:"w-full p-3 bg-gray-50 dark:bg-gray-700 rounded-xl",min:"1"})]},l))}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:n,className:"px-6 py-2 bg-gray-500 text-white rounded-xl",children:i("close")})})]})},W=({progress:t})=>e.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx(m.div,{initial:{width:0},animate:{width:`${t}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-rose-500 to-orange-500"})}),Z=({time:t,mode:a})=>{const n=a==="work"?{from:"rose",to:"orange"}:{from:"green",to:"teal"};return e.jsxs(m.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"relative group",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-${n.from}-500 to-${n.to}-500 rounded-3xl blur opacity-0 group-hover:opacity-20 transition-opacity`}),e.jsx("div",{className:"relative p-8 text-center",children:e.jsx("div",{className:`text-8xl font-bold bg-gradient-to-r from-${n.from}-600 to-${n.to}-600 bg-clip-text text-transparent font-mono`,children:t})})]})};function X(){const{t}=B(),[a,n]=s.useState(G),[i,x]=s.useState(a.workTime),[l,d]=s.useState(!1),[r,h]=s.useState("work"),[c,p]=s.useState(0),[y,b]=s.useState(!1),[w,v]=s.useState(!1),g=s.useRef(null),C=s.useCallback(o=>{const u=Math.floor(o/60),z=o%60;return`${u.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}`},[]),T=s.useCallback(()=>d(!0),[]),S=s.useCallback(()=>d(!1),[]),M=s.useCallback(()=>{d(!1),x(r==="work"?a.workTime:a.shortBreak),p(0)},[r,a]),j=s.useCallback(()=>{if(r==="work"){p(u=>u+1);const o=c>0&&c%a.longBreakInterval===0;x(o?a.longBreak:a.shortBreak),h("break")}else x(a.workTime),h("work");d(!1)},[r,c,a]);s.useEffect(()=>{let o;return l&&i>0&&(o=setInterval(()=>{x(u=>u<=1?(d(!1),N.success(t(r==="work"?"workComplete":"breakComplete"),{position:"top-right",theme:"dark"}),j(),0):u-1)},1e3)),()=>clearInterval(o)},[l,r,j,t]);const I=s.useCallback(async()=>{try{!document.fullscreenElement&&g.current?(await g.current.requestFullscreen(),v(!0)):document.fullscreenElement&&(await document.exitFullscreen(),v(!1))}catch{N.error(t("fullscreenError"))}},[t]),F=s.useCallback(()=>{const o=r==="work"?a.workTime:c>0&&c%a.longBreakInterval===0?a.longBreak:a.shortBreak;return(o-i)/o*100},[r,i,a,c]),k="p-4 bg-gray-500 rounded-xl text-white",$=`px-8 py-4 rounded-xl text-white flex items-center gap-2 ${r==="work"?"bg-gradient-to-r from-rose-500 to-orange-500":"bg-gradient-to-r from-green-500 to-teal-500"}`;return e.jsxs("div",{ref:g,className:`relative w-full ${w?"h-screen":"min-h-[calc(100vh-4rem)]"} bg-gradient-to-br from-rose-50 via-orange-50 to-amber-50 dark:from-gray-900 dark:via-rose-900/30 dark:to-orange-900/20 p-4 md:p-8`,children:[e.jsx(E,{children:y&&e.jsx(U,{settings:a,onSave:n,onClose:()=>b(!1)})}),e.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-gradient-to-br from-rose-500/10 to-orange-500/10 rounded-full mb-6",children:r==="work"?e.jsx(V,{className:"w-12 h-12 text-rose-600 dark:text-rose-400"}):e.jsx(L,{className:"w-12 h-12 text-green-600 dark:text-green-400"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-rose-600 to-orange-600 bg-clip-text text-transparent",children:t(r==="work"?"focusWork":"takeBreak")}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:t(r==="work"?"stayFocused":"recharge")})]}),e.jsx("div",{className:"mb-8",children:e.jsx(W,{progress:F()})}),e.jsx(Z,{time:C(i),mode:r}),e.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[e.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l?S:T,className:$,children:[l?e.jsx(R,{className:"w-5 h-5"}):e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{children:t(l?"pause":"start")})]}),e.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M,className:k,children:e.jsx(H,{className:"w-5 h-5"})}),e.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(!y),className:k,children:e.jsx(D,{className:"w-5 h-5"})}),e.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:I,className:k,children:w?e.jsx(q,{className:"w-5 h-5"}):e.jsx(A,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mt-8 text-center text-gray-600 dark:text-gray-400",children:[t("workGroup")," ",Math.floor(c/a.longBreakInterval)+1,e.jsx("span",{className:"mx-2",children:"|"}),t("pomodoroCount")," ",c%a.longBreakInterval+1]})]})]})}export{X as default};
